# vi_memo_to_self

### Vi / Vim チートシート

順次追加＋アップデートします。

#### Vimバージョン確認
```
vim --version
```

---

## 移動（コマンドモード）

#### 行内
- 左端へジャンプ
    ```
    0
    ```
    `" abcd"` の場合、__先頭の空白__ にジャンプ。

- 入力部分の先頭へジャンプ
    ```
    ^
    ```
    `" abcd"` の場合、__先頭のa__ にジャンプ。

- 最後にジャンプ
    ```
    $
    ```

#### 単語ごと
- 前の単語へ移動
    ```
    b
    ```
- 次の単語へ移動（由来：word）
    ```
    w
    ```
- 現単語の最後文字に移動
    ```
    e
    ```

#### 行ごと（ファイル全体）
- ファイル先頭の行へジャンプ
    ```
    gg
    ```
- ファイル末尾の行へジャンプ
    ```
    G
    ```
- 指定した行ナンバー場所へ移動  (e.g. ":5" など)
    ```
    :number_hoge
    ```

#### ページごと
- 半画面上 (up)
    ```
    ctr + u
    ```
- 半画面下 (down)
    ```
    ctr + d
    ```
- 全画面上 (before)
    ```
    ctr + b
    ```
- 全画面下 (forward)
    ```
    ctr + f
    ```

#### 一文字ごと
- 左・下・上・右 にそれぞれ移動
    ```
    h　j　k　l
    ```
    - __`数字 コマンドキー(h j k l)`__ で、指定文字数ぶんを一気に移動  
        e.g.　`5 l` → 5文字ぶん右に移動

---

## 検索（コマンドモード）

#### 基本の検索
- 文字列（単語）検索
    ```
    /hoge
    ```
    - 順次検索　`n`
    - 後方検索　`N`

- 検索結果をリスト表示
    ```
    [I
    ```
    希望の文字列（単語）にカーソルを置いてから `[I`
    - 行番号と一緒に提示してくれる
    - どれかのキーを押すとリスト表示終了

---

## 取り消し／やり直し（コマンドモード）

- 取り消し (undo)
    ```
    u
    ```
- やり直し (re-do)
    ```
    Ctr + r
    ```
- すべてキャンセル
    ```
    :e!
    ```
- 1分前の状態にもどる
    ```
    :earlier 1m
    ```
    `5m` なら5分前にもどる、のように任意の数を指定できる

---

## 文字編集（コマンドモード）

#### カット（削除も兼）
- 1文字カット
    ```
    x
    ```
    `3 x` のようにすれば指定 __文字数__ ぶんをカット

- 行をカット
    ```
    dd
    ```
    `3 dd` のようにすれば指定 __行__ ぶんをカット

#### ヤンク（コピー）
- 1行ヤンク
    ```
    yy
    ```
    `3 yy` のようにすれば複数行をヤンク

#### プット（ペースト）
- プット
    ```
    p
    ```

#### インデント追加・削除
- 追加
    ```
    >>
    ```
- 削除
    ```
    <<
    ```

#### その他の削除コマンド
- 改行を削除
    ```
    J
    ```
    - e.g.
        ```
        aaa
        bbb
        ```
        結果： `aaa bbb`

---

## 文字編集（コマンドモードからINSEARTモードに切り替わる）

- 一文字変換
    ```
    cw
    ```
- 一単語を削除
    ```
    dw
    ```

---

## 終了 / 保存

- 強制終了(Escを事前連打)
    ```
    :q!
    ```
- そのまま終了
    ```
    :q
    ```
- 上書き保存＋終了
    ```
    :wq
    ```
- 上書き保存
    ```
    :w
    ```
- 別名で保存
    ```
    :w file_name
    ```

---

## 設定（コマンドモード）

#### おすすめ初期設定

```
cd
vim .vimrc

// 以下を.vimrcに書き込み
set number
syntax on
```

#### つど設定

- 行ナンバー表示 オン/オフ
    ```
    :set nu

    :set nonu
    ```

- 言語のsyntaxを色付け オン/オフ
    ```
    :syntax on

    :syntax off
    ```

---

## その他メモ

#### Vi
- ヴイアイ
- Windowsでいうメモ帳の __Linux版__ (みたいなもの)

#### Vim
- ヴィム
- Viの機能拡張テキストエディタ
    > `$ vim --version` や `$ vim` 後の表示メッセージ:  
    __VIM - Vi IMproved__
- 1980年代から開発が始まり、現在もさかんに改良が進められている。
    - [GitHubリポジトリ](https://github.com/vim/vim)

### Vi / Vim での入り方
- ファイル名を指定して実行（ファイルが存在しないときは新規ファイルが作成される）
    ```
    vi hoge.txt

    vim hoge.txt
    ```
- 別の方法：Vimを立ち上げてからファイルを開く
    ```
    vim
    ```
    ```
    :e file_name
    ```
    __:e__ のあとにファイル名を指定して実行。

## コマンドモード / インサートモード

おもに2つのモードがある。

- コマンドモード（ノーマルモード）
  - vimに入った直後のモード。
  - `:q`とか打てるモード。終了・保存・行削除 などカバー。
  - 移動や簡単な編集はなるべくコマンドラインモードで行うほうが強力。

- インサートモード（文字入力モード）

  文字挿入・書き込み

  1. 起動  (直後はコマンドモードになってる)
  1. __インサートモード__ へ切り替え  __i__
  1. __コマンドモード__ へ切り替え  __Esc__
  1. 終了

#### その他モード
- ヴィジュアルモード

範囲指定

コピー

    - ヴィジュアルラインモード
    - ヴィジュアルブロックモード